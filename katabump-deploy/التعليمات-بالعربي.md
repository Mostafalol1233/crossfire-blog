# ุชุนูููุงุช ุชุญููู KataBump ูู MongoDB ุฅูู Neon

## ุงูุฎุทูุฉ 1๏ธโฃ: ุชุดุบูู SQL ูู Neon

1. ุงูุชุญ Neon dashboard: https://console.neon.tech/
2. ุงุถุบุท ุนูู **SQL Editor**
3. ุงูุณุฎ ูู ุงูููุฏ ูู ููู `../MIGRATION_SQL.sql`
4. ุงุถุบุท **Run** ูุฅูุดุงุก ูู ุงูุฌุฏุงูู

## ุงูุฎุทูุฉ 2๏ธโฃ: ุถุจุท Environment Variable ูู KataBump

ูู ููุญุฉ ุชุญูู KataBumpุ ุฃุถู ุงููุชุบูุฑ ุฏู:

```
DATABASE_URL=postgresql://neondb_owner:npg_qHJBV89WgejL@ep-dry-cell-aena69o3.c-2.us-east-2.aws.neon.tech/neondb?channel_binding=require&sslmode=require
```

## ุงูุฎุทูุฉ 3๏ธโฃ: ููู ุงูุจูุงูุงุช ูู MongoDB ุฅูู Neon

ูู terminal:

```bash
# ุงุชุฃูุฏ ุฅู MongoDB URI ููุฌูุฏ
export MONGODB_URI="mongodb://your-mongo-uri"

# ุดุบูู script ุงูููู
node migrate-mongo-to-neon.js
```

**ููุญูุธุฉ ูููุฉ:** ูู ูุด ุนูุฏู MongoDB URIุ ูุนูุฏูุด ุจูุงูุงุช ูุฏููุฉุ ุชุฎุทู ุงูุฎุทูุฉ ุฏู.

## ุงูุฎุทูุฉ 4๏ธโฃ: ุงุณุชุจุฏุงู ุงูููู ูู index.js

ูู ููู `index.js` ุงูุฎุงุต ุจู KataBumpุ **ุงุณุชุจุฏู** ูู ููุฏ MongoDB ุจุงูููุฏ ุฏู:

### โ ุงูุณุญ ุงูููุฏ ุงููุฏูู ุฏู:
```javascript
// ูู ุงูimports ุงูุฎุงุตุฉ ุจู mongoose
import mongoose, { Schema } from "mongoose";
// ูู ุงูSchemas (UserSchema, PostSchema, etc.)
// ูู ุงูModels (UserModel, PostModel, etc.)
```

### โ ุญุท ุงูููุฏ ุงูุฌุฏูุฏ ุฏู:
```javascript
// ุงุณุชูุฑุงุฏ Neon Storage ุงูุฌุฏูุฏ
import { neon } from '@neondatabase/serverless';
import { drizzle } from 'drizzle-orm/neon-http';
import { eq, desc } from 'drizzle-orm';
import { pgTable, text, varchar, integer, boolean, timestamp } from "drizzle-orm/pg-core";
import { sql } from "drizzle-orm";

// ุงูุณุฎ ูู ูุญุชูู ููู COMPLETE-neon-storage.js ููุง
// ุฃู ุงุณุชูุฑุฏู:
import { storage } from './COMPLETE-neon-storage.js';
```

## ุงูุฎุทูุฉ 5๏ธโฃ: ุฅุนุงุฏุฉ ุงูุจูุงุก ูุงูุฑูุน

```bash
# ูู ูุฌูุฏ katabump-deploy
npm run build

# ุงุฑูุน ููู dist/index.js ุงูุฌุฏูุฏ ุนูู KataBump
```

## ุงูุฎุทูุฉ 6๏ธโฃ: ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ

ูู KataBump dashboardุ ุงุนูู restart ููุณูุฑูุฑ.

## โ ุงูุชุฃูุฏ ูู ูุฌุงุญ ุงูุชุญููู

ูู ุงูุณูุฑูุฑ ุงุดุชุบู ุจุฏูู ุฃุฎุทุงุก ููููุด ุฑุณุงูุฉ:
```
MongoDB connection error: Error: MONGODB_URI environment variable is not defined
```

ูุจูู ุงูููุถูุน ุชูุงู! ๐

---

## ๐ ููุฎุต ุงููููุงุช ุงูุฌุฏูุฏุฉ

1. **COMPLETE-neon-storage.js** - ููู storage ุงููุงูู ูู PostgreSQL
2. **migrate-mongo-to-neon.js** - script ูููู ุงูุจูุงูุงุช
3. **MIGRATION_SQL.sql** - SQL ูุฅูุดุงุก ุงูุฌุฏุงูู
4. **drizzle.config.ts** - ุฅุนุฏุงุฏุงุช Drizzle

---

## ๐ ูู ุญุตูุช ูุดุงูู

### ุงููุดููุฉ: "DATABASE_URL is not defined"
**ุงูุญู:** ุชุฃูุฏ ุฅูู ุญุทูุช `DATABASE_URL` ูู environment variables ูู KataBump

### ุงููุดููุฉ: "relation does not exist"
**ุงูุญู:** ุชุฃูุฏ ุฅูู ุดุบููุช SQL script ูู Neon SQL Editor

### ุงููุดููุฉ: "migration failed"
**ุงูุญู:** ุชุฃูุฏ ูู MongoDB URI ุตุญูุญ ูุดุบุงู

---

## ๐ ููุงุญุธุงุช ูููุฉ

- โ Netlify (Frontend) ูููุถู ุฒู ูุง ูู
- โ KataBump (Backend) ููุณุชุฎุฏู Neon ุฏูููุชู
- โ ูู ุงูุจูุงูุงุช ุงููุฏููุฉ ูุชุชููู
- โ ุงูู Admins ุงูุญุงูููู (mostafa, bavly, highway) ููุชููููุง ุชููุงุฆูุงู

---

**Good Luck! ๐**
